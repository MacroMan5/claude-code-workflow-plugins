{
  "report_metadata": {
    "date": "2025-10-29",
    "scope": "All documentation, commands, agents, hooks, skills, scripts",
    "total_files_analyzed": 85,
    "total_references_checked": 150
  },
  "broken_references": [
    {
      "file": "README.md",
      "line": 189,
      "reference": "LAZY_DEV/STT_PROMPT_ENHANCER",
      "type": "directory",
      "issue": "Directory does not exist",
      "severity": "CRITICAL",
      "fix": "Either implement directory or remove reference"
    },
    {
      "file": ".claude/output-styles/tts-summary.md",
      "line": 31,
      "reference": ".claude/hooks/utils/tts/elevenlabs_tts.py",
      "type": "file",
      "issue": "File does not exist",
      "severity": "CRITICAL",
      "fix": "Either implement script or remove output-style"
    },
    {
      "file": ".claude/output-styles/tts-summary.md",
      "line": 53,
      "reference": ".claude/hooks/utils/tts/elevenlabs_tts.py",
      "type": "file",
      "issue": "File does not exist (duplicate reference)",
      "severity": "CRITICAL",
      "fix": "Same as above"
    },
    {
      "file": ".claude/commands/documentation.md",
      "line": 210,
      "reference": "@LAZY_DEV/lazy_dev/subagents/documentation.md",
      "type": "file",
      "issue": "Incorrect path (@LAZY_DEV prefix doesn't exist)",
      "severity": "MEDIUM",
      "fix": "Change to .claude/agents/documentation.md"
    }
  ],
  "environment_variables": {
    "documented": [
      "ENRICHMENT_MODEL",
      "LAZYDEV_LOG_DIR",
      "LAZYDEV_ALLOW_SUDO",
      "LAZYDEV_DISABLE_CONTEXT_PACK",
      "LAZYDEV_CONTEXT_PACK_MAX_FILES",
      "LAZYDEV_CONTEXT_PACK_MAX_DIRS",
      "LAZYDEV_CONTEXT_PACK_MAX_DEPTH",
      "LAZYDEV_CONTEXT_PACK_BUDGET_MS",
      "LAZYDEV_ENFORCE_TDD",
      "LAZYDEV_MIN_TESTS",
      "LAZYDEV_DISABLE_MEMORY_SKILL",
      "LAZYDEV_DISABLE_MEMORY_SUGGEST",
      "LAZYDEV_ENABLE_MEMORY_ROUTER",
      "ANTHROPIC_API_KEY"
    ],
    "undocumented": [
      {
        "name": "ENRICHMENT_MAX_TOKENS",
        "used_in": "pre_prompt_enrichment.py:181",
        "purpose": "Max tokens for enrichment API call",
        "default": "1000"
      },
      {
        "name": "LAZYDEV_DISABLE_STYLE",
        "used_in": "user_prompt_submit.py:504",
        "purpose": "Disable output style selector",
        "default": "(enabled by default)"
      },
      {
        "name": "LAZYDEV_CONTEXT_PACK_EXTS",
        "used_in": "user_prompt_submit.py:226",
        "purpose": "Custom file extensions to track",
        "default": "(uses default list)"
      }
    ],
    "automatic": [
      "CLAUDE_PROJECT_DIR"
    ]
  },
  "missing_documentation": {
    "commands": [],
    "agents": [],
    "hooks": [],
    "skills": []
  },
  "consistency_issues": [
    {
      "type": "path_reference",
      "issue": "Incorrect @LAZY_DEV prefix used",
      "location": ".claude/commands/documentation.md:210",
      "recommendation": "Use .claude/ prefix consistently"
    },
    {
      "type": "absolute_paths",
      "issue": "Windows absolute paths in examples",
      "location": "AUDIT_REPORT.md (multiple lines)",
      "recommendation": "Use relative paths or note 'Example path'"
    }
  ],
  "dependency_analysis": {
    "python_packages": {
      "required": [
        "anthropic",
        "python-dotenv",
        "black",
        "ruff",
        "mypy",
        "pytest",
        "pytest-mock"
      ],
      "documented": false,
      "recommendation": "Create requirements.txt or add Dependencies section to README.md"
    },
    "external_tools": {
      "required": [
        "git",
        "gh",
        "npm/npx",
        "uv",
        "bash"
      ],
      "documented": false,
      "recommendation": "Add Prerequisites section to README.md"
    }
  },
  "validation_results": {
    "commands": {
      "total": 10,
      "registered_in_settings": 10,
      "files_exist": 8,
      "aliases": 2,
      "status": "VALID",
      "details": [
        {"name": "create-feature", "file": ".claude/commands/create-feature.md", "exists": true},
        {"name": "task-exec", "file": ".claude/commands/task-exec.md", "exists": true},
        {"name": "issue-implementation", "file": ".claude/commands/task-exec.md", "exists": true, "alias": true},
        {"name": "us-development", "file": ".claude/commands/task-exec.md", "exists": true, "alias": true},
        {"name": "story-review", "file": ".claude/commands/story-review.md", "exists": true},
        {"name": "story-fix-review", "file": ".claude/commands/story-fix-review.md", "exists": true},
        {"name": "documentation", "file": ".claude/commands/documentation.md", "exists": true},
        {"name": "cleanup", "file": ".claude/commands/cleanup.md", "exists": true},
        {"name": "memory-graph", "file": ".claude/commands/memory-graph.md", "exists": true},
        {"name": "memory-check", "file": ".claude/commands/memory-check.md", "exists": true}
      ]
    },
    "agents": {
      "total": 10,
      "documented_in_sub_agents_md": 10,
      "files_exist": 10,
      "status": "VALID",
      "details": [
        {"name": "project-manager", "file": ".claude/agents/project-manager.md", "exists": true},
        {"name": "task-enhancer", "file": ".claude/agents/task-enhancer.md", "exists": true},
        {"name": "coder", "file": ".claude/agents/coder.md", "exists": true},
        {"name": "reviewer", "file": ".claude/agents/reviewer.md", "exists": true},
        {"name": "reviewer-story", "file": ".claude/agents/reviewer-story.md", "exists": true},
        {"name": "tester", "file": ".claude/agents/tester.md", "exists": true},
        {"name": "research", "file": ".claude/agents/research.md", "exists": true},
        {"name": "documentation", "file": ".claude/agents/documentation.md", "exists": true},
        {"name": "refactor", "file": ".claude/agents/refactor.md", "exists": true},
        {"name": "cleanup", "file": ".claude/agents/cleanup.md", "exists": true}
      ]
    },
    "hooks": {
      "total": 10,
      "registered_in_settings": 10,
      "files_exist": 10,
      "status": "VALID",
      "details": [
        {"name": "session_start.py", "exists": true},
        {"name": "user_prompt_submit.py", "exists": true},
        {"name": "pre_prompt_enrichment.py", "exists": true},
        {"name": "pre_tool_use.py", "exists": true},
        {"name": "post_tool_use_format.py", "exists": true},
        {"name": "log_events.py", "exists": true},
        {"name": "memory_router.py", "exists": true},
        {"name": "memory_suggestions.py", "exists": true},
        {"name": "stop.py", "exists": true},
        {"name": "hook_utils.py", "exists": true}
      ]
    },
    "skills": {
      "total": 17,
      "all_have_skill_md": true,
      "status": "VALID",
      "details": [
        {"name": "example-skill", "skill_md_exists": true},
        {"name": "dispatching-parallel-agents", "skill_md_exists": true},
        {"name": "finishing-a-development-branch", "skill_md_exists": true},
        {"name": "brainstorming", "skill_md_exists": true},
        {"name": "code-review-request", "skill_md_exists": true},
        {"name": "git-worktrees", "skill_md_exists": true},
        {"name": "subagent-driven-development", "skill_md_exists": true},
        {"name": "test-driven-development", "skill_md_exists": true},
        {"name": "story-traceability", "skill_md_exists": true},
        {"name": "task-slicer", "skill_md_exists": true},
        {"name": "gh-issue-sync", "skill_md_exists": true},
        {"name": "ac-expander", "skill_md_exists": true},
        {"name": "output-style-selector", "skill_md_exists": true},
        {"name": "context-packer", "skill_md_exists": true},
        {"name": "diff-scope-minimizer", "skill_md_exists": true},
        {"name": "memory-graph", "skill_md_exists": true, "extra_files": ["operations.md", "playbooks.md", "examples.md"]},
        {"name": "writing-skills", "skill_md_exists": true}
      ]
    },
    "mcp_integration": {
      "config_file_exists": true,
      "config_file": ".claude/.mcp.json",
      "servers_configured": ["memory"],
      "tools_available": [
        "mcp__memory__create_entities",
        "mcp__memory__create_relations",
        "mcp__memory__add_observations",
        "mcp__memory__delete_entities",
        "mcp__memory__delete_observations",
        "mcp__memory__delete_relations",
        "mcp__memory__read_graph",
        "mcp__memory__search_nodes",
        "mcp__memory__open_nodes"
      ],
      "status": "VALID"
    }
  },
  "recommendations": [
    {
      "priority": "CRITICAL",
      "category": "broken_references",
      "title": "Remove or implement STT_PROMPT_ENHANCER",
      "description": "Referenced in README.md but directory doesn't exist",
      "action": "Either remove reference or implement feature",
      "estimated_time": "5 minutes (remove) or 2 hours (implement)"
    },
    {
      "priority": "CRITICAL",
      "category": "broken_references",
      "title": "Remove or implement TTS script",
      "description": "Referenced in .claude/output-styles/tts-summary.md but file doesn't exist",
      "action": "Either remove output-style file or implement script",
      "estimated_time": "5 minutes (remove) or 2 hours (implement)"
    },
    {
      "priority": "HIGH",
      "category": "broken_references",
      "title": "Fix incorrect path in documentation.md",
      "description": "Line 210 uses @LAZY_DEV prefix which doesn't exist",
      "action": "Change to .claude/agents/documentation.md",
      "estimated_time": "2 minutes"
    },
    {
      "priority": "HIGH",
      "category": "documentation",
      "title": "Document missing environment variables",
      "description": "3 env vars used in code but not documented in README.md",
      "action": "Add ENRICHMENT_MAX_TOKENS, LAZYDEV_DISABLE_STYLE, LAZYDEV_CONTEXT_PACK_EXTS to Configuration section",
      "estimated_time": "15 minutes"
    },
    {
      "priority": "HIGH",
      "category": "documentation",
      "title": "Add Dependencies section to README.md",
      "description": "Python packages and external tools not documented",
      "action": "Create requirements.txt and/or add Prerequisites section",
      "estimated_time": "30 minutes"
    },
    {
      "priority": "MEDIUM",
      "category": "consistency",
      "title": "Clarify external reference in scripts/README.md",
      "description": "References PROJECT-MANAGEMENT-LAZY_DEV/docs/TOOLS.md which isn't in repo",
      "action": "Clarify if in parent directory or provide full path",
      "estimated_time": "10 minutes"
    }
  ],
  "summary_statistics": {
    "total_references_checked": 150,
    "valid_references": 147,
    "broken_references": 3,
    "success_rate": "98%",
    "categories": {
      "commands": {"total": 8, "valid": 8, "broken": 0, "success_rate": "100%"},
      "agents": {"total": 10, "valid": 10, "broken": 0, "success_rate": "100%"},
      "hooks": {"total": 10, "valid": 10, "broken": 0, "success_rate": "100%"},
      "skills": {"total": 17, "valid": 17, "broken": 0, "success_rate": "100%"},
      "file_references": {"total": 50, "valid": 47, "broken": 3, "success_rate": "94%"},
      "env_variables": {"total": 17, "documented": 14, "undocumented": 3, "success_rate": "82%"},
      "dependencies": {"total": 12, "documented": 5, "undocumented": 7, "success_rate": "42%"}
    },
    "overall_health": "88%"
  },
  "next_actions": [
    "Fix incorrect path in .claude/commands/documentation.md (2 min)",
    "Document 3 missing environment variables in README.md (15 min)",
    "Add dependencies section to README.md (30 min)",
    "Remove or implement STT_PROMPT_ENHANCER reference (5 min - 2 hours)",
    "Remove or implement TTS script (5 min - 2 hours)"
  ],
  "estimated_total_fix_time": "2-3 hours"
}
